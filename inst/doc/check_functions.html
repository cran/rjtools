<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="H. Sherry Zhang and Di Cook" />


<title>Check your article before submission</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Check your article before submission</h1>
<h4 class="author">H. Sherry Zhang and Di Cook</h4>



<p>The <code>rjtools</code> package has implemented some automated
checks on style, spelling, and package availability, according to the R
Journal format. For a comprehensive instruction on the journal format,
we recommend authors to follow <a href="https://journal.r-project.org/submissions.html">instructions for
Authors</a>.</p>
<p>This vignette will demonstrate these checks with an example article,
<a href="https://github.com/rjournal/rjtools/tree/main/inst/paper-with-errors">paper-with-errors</a>,
where the argument <code>path = path_to_article</code> in the checks
points to the directory of the .tex file. If you have created the
article using <code>create_article()</code> with the default arguments,
you can check with <code>path = here::here(&quot;rjarticle&quot;)</code>.</p>
<div id="all-checks-in-one-function" class="section level1">
<h1>All checks in one function</h1>
<p>All the nine checks in <code>rjtools</code> can be completed with
<code>initial_check_article()</code>, given a path to the article
folder:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">initial_check_article</span>(<span class="at">path =</span> path_to_article)</span></code></pre></div>
<p>The check result will be saved in an initial_check.log file under the
same folder, as well as displayed in the console. This is how it looks
like for the sample article:</p>
<pre><code>Initial check results:
ERROR: Submission does not have consistently named tex, bib, and R files
SUCCESS: No problematic file found
SUCCESS: Possible motivation letter found
ERROR: The title is not in title case! Suggest title to be changed to:
ToOoOlTiPs: An R Package for Customizable Tooltips in Interactive Graphics
SUCCESS: All sections are properly formatted in sentence case
SUCCESS: Abstract comes before the introduction section
NOTE: A potential list of spelling to check: tooltips, tooltip, alison, ggplot</code></pre>
</div>
<div id="individual-check-functions" class="section level1">
<h1>Individual check functions</h1>
<p>The nine individual checks contained in
<code>initial_check_article()</code> are:</p>
<ul>
<li><p><code>check_filenames()</code></p></li>
<li><p><code>check_unnecessary_files()</code></p></li>
<li><p><code>check_cover_letter()</code></p></li>
<li><p><code>check_title()</code></p></li>
<li><p><code>check_section()</code></p></li>
<li><p><code>check_spelling()</code></p></li>
<li><p><code>check_proposed_pkg()</code></p></li>
<li><p><code>check_packages_available()</code></p></li>
</ul>
<p>and they can all be individually checked on the article.</p>
<div id="filenames" class="section level2">
<h2>Filenames</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">check_filenames</span>(<span class="at">path =</span> path_to_article)</span></code></pre></div>
<p>The .bib file is named <code>Rjreferences.bib</code> when created and
we recommend setting a consistent name across the .bib, .tex, and .Rmd
file. A fix to this is to rename the <code>Rjreferences.bib</code> as
the file name you used when create the article, in our case,
<code>paper-with-errors</code>.</p>
</div>
<div id="presence-of-unnecessary-files" class="section level2">
<h2>Presence of unnecessary files</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">check_unnecessary_files</span>(<span class="at">path =</span> path_to_article) </span></code></pre></div>
<p>This function checks that the folder doesn’t contain the
<code>RJtemplate.tex</code> file, which is included the past R journal
template. The <a href="https://journal.r-project.org/share/author-guide.pdf">authors
instruction</a> requires the authors to replace the content of this
<code>RJtemplate.tex</code> file with article content and name with the
lowercase concatenated author name, so it is essentially the
<code>.tex</code> file automatically generated in the previous section.
Our article don’t have unnecessary files.</p>
</div>
<div id="presence-of-a-motivating-letter" class="section level2">
<h2>Presence of a motivating letter</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">check_cover_letter</span>(<span class="at">path =</span> path_to_article) </span></code></pre></div>
<p>Cover letter should be provided for article of type “add-on package”
and saved at the same folder as the article. The function checks whether
there is a file containing the word “motivation” in its name. Our
article passes this check.</p>
</div>
<div id="article-title-is-in-title-case" class="section level2">
<h2>Article title is in title case</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">check_title</span>(<span class="at">path =</span> path_to_article) </span></code></pre></div>
<p>The article title needs to be in the title case and the check is not
happy with our title here. Use <code>tools::toTitleCase()</code> to get
the correct title case format:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>tools<span class="sc">::</span><span class="fu">toTitleCase</span>(<span class="st">&quot;ToOoOlTiPs: An R package for Customizable Tooltips in Interactive Graphics&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt; [1] &quot;ToOoOlTiPs: An R Package for Customizable Tooltips in Interactive Graphics&quot;</span></span></code></pre></div>
<p>Here we forget to capitalise “P” in the word “package” - better make
this change before submission! Also if the title contains the package
you’re proposing, i.e <code>ToOoOlTiPs</code> in our article, use the
<code>\pkg{.}</code> tag rather than <code>\CRANpkg{.}</code>.</p>
</div>
<div id="section-title-is-in-sentence-case" class="section level2">
<h2>Section title is in sentence case</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">check_section</span>(<span class="at">path =</span> path_to_article) </span></code></pre></div>
<p>Section titles need to be in the sentence case and we are all good
here :)</p>
</div>
<div id="spelling" class="section level2">
<h2>Spelling</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">check_spelling</span>(<span class="at">path =</span> path_to_article) </span></code></pre></div>
<p>The spelling is checked from the abstract to bibliography section and
only words with all lowercase letters are checked to avoid picking up on
acronyms and names. The underlying checking is done through the
<code>hunspell</code> package with US spelling by default. British
spelling can be checked with argument <code>dic = &quot;en_GB&quot;</code>. The R
journal welcomes both the U.S and British spelling, along with other
national variation, as long as consistency is maintained.</p>
<p>Notice that the spelling check may pick up some domain specific
vocabularies and authors may want to further confirm if these are true
spelling mistakes. In our article, “tooltip” is a specialised vocabulary
in interactive graphics, rather than a misspell, so we are free to go
:)</p>
</div>
<div id="package-is-available-on-cran" class="section level2">
<h2>Package is available on CRAN</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">check_proposed_pkg</span>() </span></code></pre></div>
<p>The package proposed in an article should already be available on
CRAN before article submission. <code>check_proposed_pkg()</code>
prompts the following in the console:</p>
<blockquote>
<p>What’s the name of package being proposed in the article? If none,
please enter 0.</p>
</blockquote>
<p>and authors need to enter the exact package name, with proper
capitalisation, for an availability check on CRAN download. For our
article, enter <code>ToOoOlTiPs</code> in the console and the check
would say</p>
<blockquote>
<p>NOTE: No CRAN activities detected for package ToOoOlTiPs</p>
</blockquote>
<p>Not surprising that CRAN can’t find our package since it is a
hypothetical one!</p>
</div>
<div id="package-availability" class="section level2">
<h2>Package availability</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">check_packages_available</span>(<span class="at">path =</span> path_to_article) </span></code></pre></div>
<p>All the packages mentioned with a <code>\CRANpkg{.}</code> or
<code>\BIOpkg{.}</code> tag need to be available on CRAN or Bioconductor
and <code>check_packages_available()</code> makes sure this is the case.
For our article, we get</p>
<blockquote>
<p>! ERROR: 1 of 5 package(s) not available on CRAN: ToOoOlTiPs</p>
</blockquote>
<p>which is not really an issue here!</p>
</div>
</div>
<div id="checklist" class="section level1">
<h1>Checklist</h1>
<p>Editors, associate editors and reviewers will routinely check that
papers adhere to these criteria:</p>
<div id="general" class="section level2">
<h2>General</h2>
<ul>
<li>Filenames are sensible such as author-names.XXX</li>
<li>Add-on package, and dependent packages, are on CRAN</li>
<li>Code runs easily and quickly</li>
<li>Examples can be reproduced with the R code provided</li>
<li>Code is appropriately indented</li>
<li>Contact email address is provided for at least one author</li>
</ul>
</div>
<div id="titles" class="section level2">
<h2>Titles</h2>
<ul>
<li>Title need to be in title case</li>
<li>Section titles should be in sentence case</li>
<li>No special formatting can be used in the title</li>
</ul>
</div>
<div id="abstract" class="section level2">
<h2>Abstract</h2>
<ul>
<li>Should not have math notation</li>
</ul>
</div>
<div id="mathematics" class="section level2">
<h2>Mathematics</h2>
<ul>
<li>Brackets need to be appropriately paired</li>
<li>Punctuation after equations needs to be consistent</li>
<li>Mathematical operators (e.g., log) should be roman, not italic</li>
</ul>
</div>
<div id="code" class="section level2">
<h2>Code</h2>
<ul>
<li>Chunks of code in the text of the paper are concise and not overly
long, is readable and nicely formatted.</li>
<li>Code provided with the paper reproduces the results reported in the
paper.</li>
</ul>
<p>Advice on good coding style can be found in the <code>rjtools</code>
article <a href="https://rjournal.github.io/rjtools/articles/format-details.html">“More
details on the R Journal format”</a>.</p>
</div>
<div id="figures-and-tables" class="section level2">
<h2>Figures and tables</h2>
<ul>
<li>Figures are readable and clear. Good advice on figure can be found
in
<ul>
<li>Healy (2018) Data Visualization: A practical introduction, available
at <a href="https://socviz.co" class="uri">https://socviz.co</a></li>
<li>Wilke (2019) Fundamentals of Data Visualization, available at <a href="https://clauswilke.com/dataviz/" class="uri">https://clauswilke.com/dataviz/</a></li>
</ul></li>
<li>Tables are constructed effectively, with right-justified numbers,
and don’t exceed text margins. See <a href="https://www.cambridge.org/core/journals/journal-of-benefit-cost-analysis/article/ten-guidelines-for-better-tables/74C6FD9FEB12038A52A95B9FBCA05A12">Schwabish
(2020) Ten Guidelines for Better Tables</a> for advice on tables.</li>
<li>Captions have three parts: (1) what is the plot/table about, (2)
specific details of plot/table, like what type of display and how
variables are mapped, (3) the most important thing that the reader
should learn.</li>
</ul>
</div>
<div id="citations" class="section level2">
<h2>Citations</h2>
<ul>
<li>All R packages used in the work are appropriately cited. For
example, if you use <code>ggplot2</code> to make your plots, the
citation for this package needs to be added to your paper. See more
details below if you need help on how ot do this.</li>
<li>All references need to have a DOI where available.</li>
<li>The default bibliography style needs to be used.</li>
<li>Use consistent capitalization for titles in the citations, which may
require manual editing if extracting citation information from different
services.</li>
</ul>
<p><strong>How to get the package citations</strong></p>
<p>The preferred citation is provided by:</p>
<pre><code>&gt; citation(&quot;ggplot2&quot;)

To cite ggplot2 in publications, please use

  H. Wickham. ggplot2: Elegant Graphics for Data Analysis.
  Springer-Verlag New York, 2016.

A BibTeX entry for LaTeX users is

  @Book{,
    author = {Hadley Wickham},
    title = {ggplot2: Elegant Graphics for Data Analysis},
    publisher = {Springer-Verlag New York},
    year = {2016},
    isbn = {978-3-319-24277-4},
    url = {https://ggplot2.tidyverse.org},
  }</code></pre>
<p>To check if you’ve appropriately cited all the packages used in your
code, the <a href="https://pakillo.github.io/grateful/"><code>grateful</code></a>
package can help.</p>
<p>In the project where you are writing your paper, use</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">cite_packages</span>(<span class="at">out.dir =</span> <span class="st">&quot;.&quot;</span>)</span></code></pre></div>
<p>to get a <code>.bib</code> file for all packages referenced. The
entries can be added to the rest of your paper’s bib file.</p>
<p>The <code>scan_packages</code> function can give you a list of the
packages you are using.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
